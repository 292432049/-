(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-efd3","chunk-5295"],{"/Dk7":function(t,e,a){},"2kZ5":function(t,e,a){"use strict";var o=a("KvgY");a.n(o).a},"9esu":function(t,e,a){"use strict";var o=a("EJiy"),i=a.n(o),s=a("QbLZ"),l=a.n(s),n=a("fnnb"),r={name:"FhtImageCropper",components:{VueCropper:a.n(n).a},props:{cropperList:{type:Array,default:function(){return[]}}},data:function(){return{accept:"image/png, image/jpeg, image/jpg",defaultCropperOptions:{imageName:"",img:"",info:!1,size:1,outputType:"png",canScale:!0,autoCrop:!0,fixed:!0,fixedNumber:[4,3],full:!0},layer_cropper:!1,cropperImgs:[],cropperedImgs:[]}},computed:{itemStyle:function(){return{width:(this.cropperImgs.length>1?400:830)+"px"}},componentStyle:function(){return{height:(this.cropperImgs.length>1?300:600)+"px"}}},watch:{cropperList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.cropperImgs=e.map(function(e){return l()({},t.defaultCropperOptions,e)}),this.layer_cropper=this.cropperImgs.length>0}},created:function(){var t=this;this.cropperImgs=this.cropperList.map(function(e){return l()({},t.defaultCropperOptions,e)}),this.layer_cropper=this.cropperImgs.length>0},methods:{cropperClose:function(){this.cropperImgs=[]},changeScale:function(t,e){this.$refs["refCropper"+e][0].changeScale(t)},rotateLeft:function(t){this.$refs["refCropper"+t][0].rotateLeft()},rotateRight:function(t){this.$refs["refCropper"+t][0].rotateRight()},getCropData:function(){var t=this,e=0;this.cropperImgs.forEach(function(a,o){t.$refs["refCropper"+o][0].getCropData(function(o){t.cropperedImgs.push({src:o,title:a.imageName}),++e===t.cropperImgs.length&&(t.layer_cropper=!1,t.$emit("emitCropperData",t.cropperedImgs))})})},uploadImg:function(t,e){var a=this;if(!t.target.value)return console.log("取消上传..."),!1;var o=t.target.files[0];if(!this.accept.includes(o.type))return this.$message.error("请上传"+this.accept.replace(/image\//gi,"")+"的图片"),t.target.value=null,!1;var s=new FileReader;s.onerror=function(t){console.log(t+"读取异常....")},s.onload=function(t){var s="object"===i()(t.target.result)?window.URL.createObjectURL(new Blob([t.target.result])):t.target.result,l="";l=o.name?o.name.split(".")[0].length<=30?o.name.split(".")[0]:o.name.split(".")[0].substr(0,30):"",a.cropperImgs[e].img=s,a.$set(a.cropperImgs[e],"img",s),a.$set(a.cropperImgs[e],"imageName",l)},s.readAsDataURL(o),this.layer_cropper=!0,t.target.value=null}}},c=(a("UoXs"),a("KHd+")),p=Object(c.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialog-cropper"},[a("el-dialog",{attrs:{visible:t.layer_cropper,"append-to-body":"",title:"图片裁剪",width:"920px"},on:{"update:visible":function(e){t.layer_cropper=e},open:function(e){t.cropperedImgs=[]},close:t.cropperClose}},[a("div",{staticClass:"cropper-wrapper"},t._l(t.cropperImgs,function(e,o){return a("div",{key:o,staticClass:"cropper-item",style:t.itemStyle},[a("div",{staticClass:"cropper-component",style:t.componentStyle},[a("vueCropper",{ref:"refCropper"+o,refInFor:!0,attrs:{img:e.img,"output-size":e.size,"output-type":e.outputType,info:e.info,"can-scale":e.canScale,"auto-crop":e.autoCrop,"auto-crop-width":e.autoCropWidth,"auto-crop-height":e.autoCropHeight,full:e.full,fixed:e.fixed,"fixed-number":e.fixedNumber}})],1),t._v(" "),a("div",{staticClass:"cropper-btn--group clearfix"},[a("el-input",{staticClass:"cropper-input--imageName",attrs:{maxlength:30,placeholder:"请输入图片名称",size:"small"},model:{value:e.imageName,callback:function(a){t.$set(e,"imageName",a)},expression:"item.imageName"}}),t._v(" "),a("el-button-group",{staticClass:"btn-group right"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"替换图片",placement:"top-start"}},[a("label",{staticClass:"el-button el-button--primary el-button--small",attrs:{for:"changeImage"+o}},[a("i",{staticClass:"el-icon-upload"})])]),t._v(" "),a("input",{attrs:{id:"changeImage"+o,accept:t.accept,type:"file",hidden:""},on:{change:function(e){t.uploadImg(e,o)}}}),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"放大图片",placement:"top-start"}},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-zoom-in"},on:{click:function(e){t.changeScale(1,o)}}})],1),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"缩小图片",placement:"top-start"}},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-zoom-out"},on:{click:function(e){t.changeScale(-1,o)}}})],1),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"逆时针旋转90°",placement:"top-start"}},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-caret-left"},on:{click:function(e){t.rotateLeft(o)}}})],1),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"顺时针旋转90°",placement:"top-start"}},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-caret-right"},on:{click:function(e){t.rotateRight(o)}}})],1)],1)],1)])})),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.layer_cropper=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.getCropData}},[t._v("确 定")])],1)])],1)},[],!1,null,"1216884e",null);p.options.__file="Cropper.vue";e.a=p.exports},EKBX:function(t,e,a){"use strict";a.r(e);var o={name:"RoomType",components:{uploadImg:a("KspW").default},props:{},data:function(){return{tabIndex:1,editableTabsValue:"1",estateRoomDetail:{hostingRooms:[{houseType:"夏威夷",houseArea:"20",roomName:"房型",houseDirection:"",chamberCount:"1",boardCount:"0",toiletCount:"0",name:"1",rent:"",deposit:"",payOfPayment:"",depositOfPayment:"",facilityItemsList:[],pictures:[]}]},estateRoomDetailRules:{roomDetail:{houseType:[{required:!0,message:"请输入房源类型",trigger:"blur"}]}},roomDirectionList:[{label:"朝南",value:1},{label:"朝北",value:2},{label:"朝东",value:3},{label:"朝西",value:4},{label:"东南",value:5},{label:"西南",value:6},{label:"东北",value:7},{label:"西北",value:8}],facilityGroup:[{label:"家电",facilitys:[{value:"2",label:"洗衣机"},{value:"3",label:"空调"},{value:"4",label:"冰箱"},{value:"5",label:"电视"}]},{label:"家具",facilitys:[{value:"1",label:"床"},{value:"7",label:"沙发"},{value:"8",label:"茶几"},{value:"10",label:"餐桌"}]},{label:"其他",facilitys:[{value:"6",label:"宽带"}]}],roomCheckbox:!1}},computed:{payList:function(){for(var t=[],e=0;e<13;e++)t.push({value:e,label:e+""});return t},depositList:function(){var t=this.payList.slice(0);return t.push({value:13,label:"自定义"}),t}},methods:{handleTabsEdit:function(t,e){if("add"===e){if(this.estateRoomDetail.hostingRooms.length>25)return;var a=this.estateRoomDetail.hostingRooms.length,o=++this.tabIndex+"";this.estateRoomDetail.hostingRooms.push({houseType:"",houseArea:"",roomName:"房型"+"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")[a],houseDirection:"",chamberCount:"1",boardCount:"0",toiletCount:"0",rent:"",deposit:"",name:o,payOfPayment:"",depositOfPayment:"",facilityItemsList:[],pictures:[]}),this.editableTabsValue=o}if("remove"===e){var i=this.estateRoomDetail.hostingRooms;console.log(this.estateRoomDetail.hostingRooms);var s=this.editableTabsValue;s===t&&i.forEach(function(e,a){if(e.name===t){var o=i[a+1]||i[a-1];o&&(s=o.name)}}),this.editableTabsValue=s,this.estateRoomDetail.hostingRooms=i.filter(function(e){return e.name!==t})}},handleDepositChange:function(t){if(13!==t.depositOfPayment){if(""===t.rent)return void(t.deposit="");if(t.deposit=t.rent*t.depositOfPayment,t.deposit=0===t.deposit?0:t.deposit.toFixed(2),t.roomName){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(t.roomName.replace("房间",""));this.$refs.estateRoomDetail.validateField("hostingRooms."+e+".deposit")}}},selectRoomNum:function(){this.roomCheckbox=!0},handleRentChange:function(t){t.rent>0?(t.rent=Math.min(1e5,t.rent).toString(),t.rent.split(".")[1]?t.rent=Number(t.rent).toFixed(2):t.rent=t.rent+".00"):t.rent=0;if(""!==t.rent&&""!==t.depositOfPayment&&13!==t.depositOfPayment?(t.deposit=t.rent*t.depositOfPayment,t.deposit=0===t.deposit?0:t.deposit.toFixed(2)):t.deposit="",""!==t.depositOfPayment)if(t.roomName){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(t.roomName.replace("房型",""));this.$refs.estateRoomDetail.validateField("hostingRooms."+e+".deposit")}else this.$refs.estateRoomDetail.validateField("deposit")}}},i=(a("dFus"),a("KHd+")),s=Object(i.a)(o,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addRoom"},[a("el-tabs",{attrs:{type:"border-card",editable:""},on:{edit:t.handleTabsEdit},model:{value:t.editableTabsValue,callback:function(e){t.editableTabsValue=e},expression:"editableTabsValue"}},t._l(t.estateRoomDetail.hostingRooms,function(e,o){return a("el-tab-pane",{key:o,attrs:{label:e.roomName,name:e.name}},[a("el-form",{ref:"roomTypeTabsForm",refInFor:!0,attrs:{rules:t.estateRoomDetailRules,"label-position":"right","label-width":"80px",size:"small"},model:{value:t.estateRoomDetail,callback:function(e){t.estateRoomDetail=e},expression:"estateRoomDetail"}},[a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{prop:"hostingRooms."+o+".houseType",rules:t.estateRoomDetailRules.roomDetail.houseType,label:"房间类型"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"如夏威夷",clearable:""},model:{value:t.estateRoomDetail.hostingRooms[o].houseType,callback:function(e){t.$set(t.estateRoomDetail.hostingRooms[o],"houseType",e)},expression:"estateRoomDetail.hostingRooms[index].houseType"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"room-item-count",attrs:{label:"房间面积"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入房间面积",min:"0",clearable:"",type:"number"},model:{value:t.estateRoomDetail.hostingRooms[o].houseArea,callback:function(e){t.$set(t.estateRoomDetail.hostingRooms[o],"houseArea",e)},expression:"estateRoomDetail.hostingRooms[index].houseArea"}})],1)],1),t._v(" "),a("el-col",{staticClass:"inline-item-label",attrs:{span:3}},[t._v("m"),a("sup",[t._v("2")])])],1),t._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{prop:"chamberCount",label:"户型"}})],1),t._v(" "),a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"room-item-count",staticStyle:{"margin-left":"px"},attrs:{label:"","label-width":"0",prop:"chamberCount"}},[a("el-select",{attrs:{placeholder:""},model:{value:t.estateRoomDetail.hostingRooms[o].chamberCount,callback:function(e){t.$set(t.estateRoomDetail.hostingRooms[o],"chamberCount",e)},expression:"estateRoomDetail.hostingRooms[index].chamberCount"}},t._l(10,function(t,e){return a("el-option",{key:t,attrs:{value:e}})}))],1)],1),t._v(" "),a("el-col",{staticClass:"inline-item-label",attrs:{span:1}},[t._v("\n            室\n          ")]),t._v(" "),a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"room-item-count",attrs:{label:"","label-width":"0",prop:"boardCount"}},[a("el-select",{attrs:{placeholder:""},model:{value:t.estateRoomDetail.hostingRooms[o].boardCount,callback:function(e){t.$set(t.estateRoomDetail.hostingRooms[o],"boardCount",e)},expression:"estateRoomDetail.hostingRooms[index].boardCount"}},t._l(10,function(t,e){return a("el-option",{key:t,attrs:{value:e}})}))],1)],1),t._v(" "),a("el-col",{staticClass:"inline-item-label",attrs:{span:1}},[t._v("\n            厅\n          ")]),t._v(" "),a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"room-item-count",attrs:{label:"","label-width":"0",prop:"toiletCount"}},[a("el-select",{attrs:{placeholder:""},model:{value:t.estateRoomDetail.hostingRooms[o].toiletCount,callback:function(e){t.$set(t.estateRoomDetail.hostingRooms[o],"toiletCount",e)},expression:"estateRoomDetail.hostingRooms[index].toiletCount"}},t._l(10,function(t,e){return a("el-option",{key:t,attrs:{value:e}})}))],1)],1),t._v(" "),a("el-col",{staticClass:"inline-item-label",attrs:{span:1}},[t._v("\n            卫\n          ")]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{staticClass:"room-item-count",attrs:{"label-width":"0",prop:"houseDirection"}},[a("el-select",{staticClass:"room-detail-select",attrs:{placeholder:"朝向"},model:{value:t.estateRoomDetail.hostingRooms[o].houseDirection,callback:function(e){t.$set(t.estateRoomDetail.hostingRooms[o],"houseDirection",e)},expression:"estateRoomDetail.hostingRooms[index].houseDirection"}},t._l(t.roomDirectionList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:15}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"房间设施"}},[a("el-select",{staticClass:"room-detail-select",staticStyle:{width:"82%"},attrs:{multiple:"",placeholder:"请选择"},model:{value:t.estateRoomDetail.hostingRooms[o].facilityItemsList,callback:function(e){t.$set(t.estateRoomDetail.hostingRooms[o],"facilityItemsList",e)},expression:"estateRoomDetail.hostingRooms[index].facilityItemsList"}},t._l(t.facilityGroup,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.facilitys,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))}))],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{"show-message":!1,label:"付款方式",prop:"chamberCount"}})],1),t._v(" "),a("el-col",{staticClass:"inline-item-label",staticStyle:{"margin-left":"-10px"},attrs:{span:1}},[t._v("\n            付\n          ")]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{staticClass:"room-item-count",attrs:{label:"","label-width":"0",prop:"payOfPayment"}},[a("el-select",{model:{value:t.estateRoomDetail.hostingRooms[o].payOfPayment,callback:function(e){t.$set(t.estateRoomDetail.hostingRooms[o],"payOfPayment",e)},expression:"estateRoomDetail.hostingRooms[index].payOfPayment"}},t._l(t.payList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("el-col",{staticClass:"inline-item-label",attrs:{span:1}},[t._v("\n            押\n          ")]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{staticClass:"room-item-count",attrs:{label:"","label-width":"0",prop:"depositOfPayment"}},[a("el-select",{on:{change:function(e){t.handleDepositChange(t.estateRoomDetail)}},model:{value:t.estateRoomDetail.hostingRooms[o].depositOfPayment,callback:function(e){t.$set(t.estateRoomDetail.hostingRooms[o],"depositOfPayment",e)},expression:"estateRoomDetail.hostingRooms[index].depositOfPayment"}},t._l(t.depositList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"租金"}},[a("el-input",{attrs:{placeholder:"请输入租金",type:"number",clearable:""},on:{change:function(e){t.handleRentChange(t.estateRoomDetail.hostingRooms[o])}},model:{value:t.estateRoomDetail.hostingRooms[o].rent,callback:function(e){t.$set(t.estateRoomDetail.hostingRooms[o],"rent",e)},expression:"estateRoomDetail.hostingRooms[index].rent"}})],1)],1),t._v(" "),a("el-col",{staticClass:"inline-item-label",staticStyle:{"text-align":"left"},attrs:{span:1}},[t._v("\n            元/月\n          ")])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"押金"}},[a("el-input",{attrs:{disabled:13!==t.estateRoomDetail.hostingRooms[o].depositOfPayment,type:"number"},model:{value:t.estateRoomDetail.hostingRooms[o].deposit,callback:function(e){t.$set(t.estateRoomDetail.hostingRooms[o],"deposit",e)},expression:"estateRoomDetail.hostingRooms[index].deposit"}})],1)],1),t._v(" "),a("el-col",{staticClass:"inline-item-label",attrs:{span:1}},[t._v("\n              元`\n          ")])],1),t._v(" "),a("el-row",[a("el-form-item",{staticClass:"room-item-count",attrs:{label:"上传图片",prop:"pictures"}},[a("uploadImg")],1)],1),t._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"房号配置"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.selectRoomNum}},[t._v("\n              房间号配置\n            ")])],1)],1)],1)],1)})),t._v(" "),a("el-dialog",{attrs:{visible:t.roomCheckbox,title:"选择房间号"},on:{"update:visible":function(e){t.roomCheckbox=e}}},[a("room-check-group")],1)],1)},[],!1,null,null,null);s.options.__file="roomType.vue";e.default=s.exports},KX4T:function(t,e,a){},KspW:function(t,e,a){"use strict";a.r(e);var o=a("m1cH"),i=a.n(o),s=a("14Xm"),l=a.n(s),n=a("EJiy"),r=a.n(n),c=a("4d7F"),p=a.n(c),u=a("D3Ub"),m=a.n(u),d=a("vXZP"),f=a("9esu"),h={name:"UploadImg",components:{Preview:d.a,ImageCropper:f.a},data:function(){return{estateRoomDetail:{pictures:[]},uploadPicsModelVisible:!1,curPicListIndex:-1,currentPicList:[],cropperList:[],accept:"image/png, image/jpeg, image/jpg"}},methods:{uploadImg:function(t){var e=this;return m()(l.a.mark(function a(){var o,i,s,n,c;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.target.value){a.next=2;break}return a.abrupt("return",!1);case 2:if(o=[],i=function(t){return new p.a(function(e){var a=new FileReader;a.onerror=function(t){console.log("读取异常....")},a.onload=function(a){var o="object"===r()(a.target.result)?window.URL.createObjectURL(new Blob([a.target.result])):a.target.result,i="";i=t.name?t.name.split(".")[0].length<=30?t.name.split(".")[0]:t.name.split(".")[0].substr(0,30):"",e({img:o,imageName:i,type:1})},a.readAsDataURL(t)})},s=t.target.files,!((n=e.currentPicList).length+s.length>15)){a.next=10;break}return e.$message.error("您已上传"+n.length+"张图片，最多还能上传"+(15-n.length)+"张图片"),t.target.value=null,a.abrupt("return",!1);case 10:c=0;case 11:if(!(c<s.length)){a.next=24;break}if(e.accept.includes(s[c].type)){a.next=16;break}return e.$message.error("请上传"+e.accept.replace(/image\//gi,"")+"的图片"),t.target.value=null,a.abrupt("return",!1);case 16:return a.t0=o,a.next=19,i(s[c]);case 19:a.t1=a.sent,a.t0.push.call(a.t0,a.t1);case 21:c++,a.next=11;break;case 24:console.log("e.target.files",t.target.files),e.cropperList=o.map(function(t,e){return{img:t.img,imageName:t.imageName,type:t.type}}),t.target.value=null;case 27:case"end":return a.stop()}},a,e)}))()},openPicModel:function(t){this.curPicListIndex=t,this.currentPicList=-1===t?this.estateRoomDetail.pictures:this.estateRoomDetail.hostingRooms[t].pictures,this.uploadPicsModelVisible=!0},emitDelete:function(t){this.currentPicList=t||[]},emitCropperData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];console.log("list1",t),t.forEach(function(t,e){t.type=1,t.imageName=t.title,void 0===t.isBase64&&(t.isBase64=1)}),console.log("list2",t),this.currentPicList=[].concat(i()(this.currentPicList),i()(t)),console.log("上传图片组件中的",this.currentPicList)},uploadModelClose:function(){-1===this.curPicListIndex?this.estateRoomDetail.pictures=this.currentPicList:this.estateRoomDetail.hostingRooms[this.curPicListIndex].pictures=this.currentPicList,console.log("cc",this.estateRoomDetail.pictures),this.currentPicList=[]}}},g=(a("2kZ5"),a("KHd+")),v=Object(g.a)(h,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.estateRoomDetail.pictures.length?a("el-badge",{attrs:{value:t.estateRoomDetail.pictures.length}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.openPicModel()}}},[t._v("上传照片")])],1):a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.openPicModel()}}},[t._v("上传照片")]),t._v(" "),a("el-dialog",{attrs:{visible:t.uploadPicsModelVisible,"append-to-body":"",title:"上传公寓照片","custom-class":"upload-pics-model",width:"600px"},on:{"update:visible":function(e){t.uploadPicsModelVisible=e},close:t.uploadModelClose}},[a("div",{staticClass:"previewItems"},[a("Preview",{attrs:{"pic-list":t.currentPicList,"delete-icon":!0,disabled:!1},on:{emitDelete:t.emitDelete}}),t._v(" "),a("label",{staticClass:"el-upload el-upload--picture-card uploadImage",attrs:{for:"uploadImages"}},[a("i",{staticClass:"el-icon-plus"}),t._v(" "),a("input",{attrs:{id:"uploadImages",accept:t.accept,type:"file",multiple:""},on:{change:function(e){t.uploadImg(e)}}})])],1),t._v(" "),a("p",{staticClass:"upload-pics-info"},[t._v("温馨提示： ")]),t._v(" "),a("p",{staticClass:"upload-pics-info"},[t._v("1.请勿上传虚假、模糊、与房源信息无关、含有其他公司水印的照片； ")]),t._v(" "),a("p",{staticClass:"upload-pics-info"},[t._v("2.房间照片最佳组合：卧室2~6张、公共区域1~4张、厨房1~3张、卫生间1-4张； ")]),t._v(" "),a("p",{staticClass:"upload-pics-info"},[t._v("3.目前最多支持15张，支持JPG/JPEG/PNG，可以拖动图片进行排序，支持批量上传。")]),t._v(" "),a("ImageCropper",{attrs:{"cropper-list":t.cropperList},on:{emitCropperData:t.emitCropperData}}),t._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.uploadPicsModelVisible=!1}}},[t._v("关 闭")])],1)],1)],1)},[],!1,null,null,null);v.options.__file="uploadImg.vue";e.default=v.exports},KvgY:function(t,e,a){},UoXs:function(t,e,a){"use strict";var o=a("/Dk7");a.n(o).a},dFus:function(t,e,a){"use strict";var o=a("nCVW");a.n(o).a},ec3i:function(t,e,a){"use strict";var o=a("jUJg");a.n(o).a},jUJg:function(t,e,a){},k6VY:function(t,e,a){"use strict";var o=a("KX4T");a.n(o).a},nCVW:function(t,e,a){},vXZP:function(t,e,a){"use strict";var o=a("14Xm"),i=a.n(o),s=a("4d7F"),l=a.n(s),n=a("D3Ub"),r=a.n(n),c=a("FRYs"),p=a.n(c);document.body.ondrop=function(t){t.preventDefault(),t.stopPropagation()};var u={name:"FhtPreview",components:{draggable:p.a},props:{picList:{type:Array,default:function(){return[]}},deleteIcon:{type:Boolean,default:!1},itemSize:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!0}},data:function(){return{list:[],isDragging:!1,delayedDragging:!1}},computed:{itemStyle:function(){return{width:this.itemSize.width+"px",height:this.itemSize.height+"px"}},dragOptions:function(){return{animation:150,group:"description",ghostClass:"ghost",disabled:this.disabled}}},watch:{picList:{immediate:!0,handler:function(t){this.list=(t||[]).slice(),this.list.map(function(t,e){t.sortNum=t.sortNum?t.sortNum:Math.random().toFixed(5),t.type=t.type||1,t.title=t.picTag||""})}},isDragging:function(t){var e=this;t?this.delayedDragging=!0:this.$nextTick(function(){e.delayedDragging=!1})}},mounted:function(){},methods:{handlePreview:function(t){var e=this;return r()(i.a.mark(function a(){var o,s,n;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(1!==e.list.length||!e.list[0].isnoPic){a.next=3;break}return e.$message.warning("友情提示：暂无图片"),a.abrupt("return",!1);case 3:o=function(t){return new l.a(function(e){var a=new Image;a.src=t.src,a.onload=function(o){t.w=a.width||800,t.h=a.height||600,e(t)}})},s=[],n=0;case 6:if(!(n<e.list.length)){a.next=15;break}return a.t0=s,a.next=10,o(e.list[n]);case 10:a.t1=a.sent,a.t0.push.call(a.t0,a.t1);case 12:n++,a.next=6;break;case 15:e.$preview.open(t,s);case 16:case"end":return a.stop()}},a,e)}))()},handleDelete:function(t,e){var a=this;this.$confirm("是否删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.list.splice(t,1),a.handleEmit()}).catch(function(){})},handleEmit:function(){this.$emit("emitDelete",this.list)},startDrag:function(){this.isDragging=!0},endDrag:function(t){this.isDragging=!1,this.handleEmit()}}},m=(a("k6VY"),a("ec3i"),a("KHd+")),d=Object(m.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("draggable",{staticClass:"list-group",attrs:{options:t.dragOptions,element:"ul"},on:{start:t.startDrag,end:t.endDrag},model:{value:t.list,callback:function(e){t.list=e},expression:"list"}},[a("transition-group",{staticClass:"previewItems",attrs:{name:"flip-list",type:"transition"}},t._l(t.list,function(e,o){return a("li",{key:e.sortNum,staticClass:"preview-item clearfix",style:t.itemStyle},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.src,expression:"item.src"}],staticClass:"preview-img img-center"}),t._v(" "),e.picTag?a("span",{staticClass:"preview-tags"},[t._v(t._s(e.picTag))]):t._e(),t._v(" "),a("span",{staticClass:"preview-item-actions"},[a("span",{staticClass:"preview-item__item-preview",on:{click:function(e){t.handlePreview(o)}}},[a("i",{staticClass:"el-icon-zoom-in"})]),t._v(" "),t.deleteIcon?a("span",{staticClass:"preview-item__item-delete",on:{click:function(a){t.handleDelete(o,e)}}},[a("i",{staticClass:"el-icon-delete"})]):t._e()])])}))],1)},[],!1,null,"0e5cb646",null);d.options.__file="Preview.vue";e.a=d.exports}}]);